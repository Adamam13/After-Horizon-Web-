<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เกมยิงไวรัส</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #222;
            color: white;
            overflow: hidden;
            margin: 0;
        }
        #game-container {
            position: absolute;
            width: 100vw;
            height: 100vh;
            /* border: 100px rgb(0, 255, 13); */
        }
        .virus {
    position: absolute;
    width: 80px;  /* ขยายขนาดให้ใหญ่ขึ้น */
    height: 80px; /* ขยายขนาดให้ใหญ่ขึ้น */
    cursor: pointer;
    transition: transform 0.05s linear;
}
        .virus img {
            width: 100%;
            height: 100%;
        }
        #score, #timer {
            font-size: 24px;
            margin: 10px;
        }
    </style>
</head>
<body>

    <h1>เกมยิงไวรัส</h1>
    <p id="score">คะแนน: 0</p>
    <p id="timer">เวลา: 30</p>
    <div id="game-container"></div>

    <script>
        const gameContainer = document.getElementById('game-container');
        let score = 0;
        let timeLeft = 30;
        let timer;

        const virusTypes = [
            { color: "red", speed: 3, points: 2, img: "Icon/enemy3.png" },   // ไวรัสแดง - วิ่งเร็ว
            { color: "green", speed: 1, points: 1, img: "Icon/enemy1.png" }, // ไวรัสเขียว - ปกติ
            { color: "gold", speed: 4, points: 5, img: "Icon/enemy2.png" }   // ไวรัสทอง - วิ่งเร็ว
        ];

        function createVirus() {
    const virusData = virusTypes[Math.floor(Math.random() * virusTypes.length)];
    const virus = document.createElement('div');
    virus.classList.add('virus');

    // ใช้ <img> แทน innerText
    const virusImg = document.createElement('img');
    virusImg.src = virusData.img;
    virus.appendChild(virusImg);
    gameContainer.appendChild(virus);

    // ตำแหน่งเริ่มต้น: ให้ไวรัสเริ่มจากขอบจอ
    let x = Math.random() * window.innerWidth;
    let y = Math.random() * window.innerHeight;

    // ทิศทางการเคลื่อนที่สุ่ม
    let speedX = (Math.random() * virusData.speed + 1) * (Math.random() < 0.5 ? 1 : -1);
    let speedY = (Math.random() * virusData.speed + 1) * (Math.random() < 0.5 ? 1 : -1);

    virus.style.left = `${x}px`;
    virus.style.top = `${y}px`;

    function moveVirus() {
        x += speedX;
        y += speedY;

        // ให้ไวรัสวิ่งไปยังจุดต่าง ๆ โดยไม่ชนขอบ
        // if (x < 0 || x > window.innerWidth - 80) speedX *= -1;
        // if (y < 0 || y > window.innerHeight - 80) speedY *= -1;

        virus.style.transform = `translate(${x}px, ${y}px)`;

        requestAnimationFrame(moveVirus);
    }
    moveVirus();

    virus.addEventListener('click', () => {
        virus.remove();
        score += virusData.points;
        document.getElementById('score').innerText = `คะแนน: ${score}`;
        createVirus();
    });

    setTimeout(() => virus.remove(), 30000);
}


        function startGame() {
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById('timer').innerText = `เวลา: ${timeLeft}`;
        if (timeLeft <= 0) {
            clearInterval(timer);
            gameContainer.innerHTML = '<h2>หมดเวลา! คะแนนของคุณ: ' + score + '</h2>';
        }
    }, 1000);

    let initialVirusCount = 10; // จำนวนไวรัสเริ่มต้น
    let virusInterval = setInterval(() => {
        createVirus();
    }, 100); // ทุกๆ 1 วินาที จะเพิ่มไวรัสใหม่

    setInterval(() => {
        initialVirusCount++; // เพิ่มจำนวนไวรัสเมื่อเวลาผ่านไป
    }, 100);

    for (let i = 0; i < initialVirusCount; i++) createVirus();
}


        startGame();
    </script>

</body>
</html>
